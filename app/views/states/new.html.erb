<h1>New State</h1>

<%= render partial: "layouts/error", locals: {object: @state} %>

<%= form_for(@state) do |f| %> 

    <p> Select the country: </p>
    <div>
        <%= f.collection_select :country_id, Country.all, :id, :name, include_blank: "Select a country" %>
    </div>
    <p> If country not listed, click <%= link_to "here", new_country_url %> to add. </p>
    
    <div>
        <%= f.label :place, 'State' %><br>
        <%= f.text_field :place %><br><br>
    </div>
    <div>
        <%= f.label :description %><br>
        <%= f.text_area :description %>
    </div>

    <p> Select the country: </p>
    <div>
        <%= f.collection_select :country_id, Country.all, :id, :name, include_blank: "Select a country" %>
    </div>

    <p> Or add a new country: </p>
    <div> 
        <%= f.fields_for :country, Country.new do |c| %>
            <%= c.label :name, 'Country' %>
            <%= c.text_field :name %>
        <% end %>
    </div>

    <br><p><%= f.submit "Add State" %></p>
<% end %>
